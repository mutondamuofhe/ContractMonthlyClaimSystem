@model System.Collections.Generic.List<ClaimRecord>

@{
    ViewData["Title"] = "Pending Claims";
    // sort so Escalated appear at top for managers
    var ordered = Model.OrderByDescending(c => c.Status == ClaimStatus.Escalated)
                       .ThenBy(c => c.SubmittedAt);
}

<h2>Pending & Escalated Claims</h2>

@if (TempData["Message"] != null)
{
    <div class="alert alert-info">@TempData["Message"]</div>
}

@if (!ordered.Any())
{
    <p>No pending claims found.</p>
}
else
{
    <div class="claims-list">
        @foreach (var claim in ordered)
        {
            @await Html.PartialAsync("_ClaimCard", claim)
        }
    </div>
}

